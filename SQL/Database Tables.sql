use Assg1;
CREATE TABLE Users (
  ID INT AUTO_INCREMENT NOT NULL PRIMARY KEY,
  Email VARCHAR(100) NOT NULL UNIQUE,
  PasswordHash VARCHAR(255) NOT NULL,
  Name VARCHAR(100) NOT NULL,
  CreatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE Memberships (
  ID INT AUTO_INCREMENT NOT NULL PRIMARY KEY,
  UserID INT NOT NULL,
  MembershipType VARCHAR(20) NOT NULL,
  CreatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (UserID) REFERENCES Users(ID)
);

CREATE TABLE Vehicles (
  ID INT AUTO_INCREMENT NOT NULL PRIMARY KEY,
  LicensePlate VARCHAR(10) NOT NULL UNIQUE,
  VehicleType VARCHAR(20) NOT NULL,
  Availability BOOLEAN NOT NULL DEFAULT TRUE,
  CreatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE Rentals (
  ID INT AUTO_INCREMENT NOT NULL PRIMARY KEY,
  VehicleID INT NOT NULL,
  UserID INT NOT NULL,
  RentalPeriod VARCHAR(20) NOT NULL,
  CreatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (VehicleID) REFERENCES Vehicles(ID),
  FOREIGN KEY (UserID) REFERENCES Users(ID)
);

CREATE TABLE Billings (
  ID INT AUTO_INCREMENT NOT NULL PRIMARY KEY,
  UserID INT NOT NULL,
  VehicleID INT NOT NULL,
  RentalPeriod VARCHAR(20) NOT NULL,
  TotalCost DECIMAL(10, 2) NOT NULL,
  CreatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (UserID) REFERENCES Users(ID),
  FOREIGN KEY (VehicleID) REFERENCES Vehicles(ID)
);

CREATE TABLE Promotions (
  ID INT AUTO_INCREMENT NOT NULL PRIMARY KEY,
  Code VARCHAR(20) NOT NULL UNIQUE,
  Description VARCHAR(100) NOT NULL,
  Discount DECIMAL(5, 2) NOT NULL,
  ExpiryDate DATE NOT NULL,
  CreatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
